@using MyMuseo.Models;
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="At myMuseo.com we’re expanding the ecosystem for artists and collectors. Join our community to share your art and collections. myMuseo.com exists as an online forum to bring together art enthusiasts: artists and collectors, who are excited to share their work and collections and to discover something new. Buy sell or just take part in the discussion." />
    <meta name="keywords" content="Art for Sale, Original Artwork, Paintings, Photography, Sculpture, Prints, Buy Art Online, Sell Art Online, myMuseo" />
    <title>@ViewBag.Title - myMuseo</title>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
    @Scripts.Render("~/bundles/jquery")
    <link href="~/Content/style.css" rel="stylesheet" type="text/css" media="all" />
    <link href="~/Content/bootstrap-responsive-tabs.css" rel="stylesheet" type="text/css"  />
    <script src="@Url.Content("~/Scripts/jquery.bootstrap-responsive-tabs.min.js")" type="text/javascript"></script>
</head>
<body>
  <style>
#cp{
	position: fixed;
	right: -260px;
	top: 140px;
	width: 280px;
	height: 0px;
	transition: right 0.3s linear 0s;
    z-index: 99999;
	
}

.cp-scroll {
    max-height:140px;
    overflow-y:auto;  
}

#accordion .panel {
    margin-left: 10px;
    margin-right: 10px;
    border-top-width: 0px;
    border-left-width: 0px;
    border-right-width: 0px;
    border-radius: 0px;
}

#accordion .panel-heading { padding: 0;}
#accordion .panel-title > a {
	display: block;
	padding: 0.4em 0.6em;
    outline: none;
    font-weight:normal;
    text-decoration: none;
    background: #f45942; 
    color: white; 
}

#accordion .panel-title > a.accordion-toggle::before, #accordion a[data-toggle="collapse"]::before  {
    content:"\e113";
    float: right;
    font-family: 'Glyphicons Halflings';
	margin-right :0.5em;
}
#accordion .panel-title > a.accordion-toggle.collapsed::before, #accordion a.collapsed[data-toggle="collapse"]::before  {
    content:"\e114";
}

#accordion .panel-body {
    background: #f45942; 
    color: white; 
}


.glyphicon-star:hover {
    color:#d1d311;
}
.glyphicon-star:active {
    color:#fdfb4a;
}

.glyphicon-pencil:hover {
    color:#d1d311;
}
.glyphicon-pencil:active {
    color:#fdfb4a;
}

.glyphicon-refresh:hover {
    color:#d1d311;
}
.glyphicon-refresh:active {
    color:#fdfb4a;
}
.glyphicon-arrow-left:hover {
    color:#d1d311;
}
.glyphicon-arrow-left:active {
    color:#fdfb4a;
}
.glyphicon-arrow-right:hover {
    color:#d1d311;
}
.glyphicon-arrow-right:active {
    color:#fdfb4a;
}

#q:hover {
    background-color: #f3f3f3;
	border: 1px solid #d3e50a;
    color: #333333;
    outline: none;
}

#q:focus {
    outline: none;
    background-color: #f3f3f3;
	border: 1px solid #d3e50a;
    color: #333333;
    -webkit-box-shadow: 7px 6px 23px 1px rgba(119, 119, 119, 0.37);
	-moz-box-shadow: 7px 6px 23px 1px rgba(119, 119, 119, 0.37);
	box-shadow: 7px 6px 23px 1px rgba(119, 119, 119, 0.37);
}

.unstyled-button {
  border: none;
  padding: 0;
  background: none;
}

  </style>
    <div class="navbar navbar-default navbar-fixed-top" style="background-color: white !important;">
        
        <div class="col-md-12">
            <div>
                <div class="navbar-header">
                    <button button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            <a href="~/Home" title="myMuseo">
                <img style="padding-left: 40px; margin-top: 10px;" src="~/Content/images/myMuseo.png" class="hidden-xs">
                <img style="padding-left: 0px; margin-top: 10px; width: 90%;" src="~/Content/images/myMuseo.png" class="visible-xs">
            </a>
             
            @Html.Partial("_LoginDropdown")
                 
            </div>
            
            <div id="navbar" class="collapse navbar-collapse navbar-responsive-collapse" >
                <ul class="nav navbar-nav" style="font-size: 16px;letter-spacing: 1px!important;font-family:Avenir-Book">
                    <li>@Html.ActionLink("Painting", "ItemsListing", "Home",new { id = 1, order = 0 }, new { @class="border" })</li>
                    <li>@Html.ActionLink("Drawing", "ItemsListing", "Home", new { id = 2, order = 0 }, new { @class = "border" })</li>
                    <li>@Html.ActionLink("Prints", "ItemsListing", "Home", new { id = 3, order = 0 }, new { @class = "border" })</li>
                    <li>@Html.ActionLink("Photography", "ItemsListing", "Home", new { id = 7, order = 0 }, new { @class = "border" })</li>
                    <li>@Html.ActionLink("Collage", "ItemsListing", "Home", new { id = 4, order = 0 }, new { @class = "border" })</li>
                    <li>@Html.ActionLink("Jewelry", "ItemsListing", "Home", new { id = 11, order = 0 }, new { @class = "border" })</li>
                    <li>@Html.ActionLink("Sculpture", "ItemsListing", "Home", new { id = 16, order = 0 }, new { @class = "border" })</li>
                    <li>@Html.ActionLink("All Categories", "AllCategories", "Home", new { id = 0 }, new { @class = "border" })</li>
                    <li>@Html.ActionLink("All Members", "AllMembers", "Home", new { id = 0 }, new { @class = "border" })</li>
                    <li>
                        <form id="frmsearch" action="~/Home/ItemsSearch" method="get">
                            <table style="margin-top: 8px;width: 200px;">
                                <tr>
                                    <td>
                                        <input class="form-control no-border text18"  id="q" name="q" type="text" placeholder="Search" autocomplete="off">
                                    </td>
                                    <td>
                                        <button id="submit" name="submit" class="unstyled-button"><i class="glyphicon glyphicon-search"></i></button>
                                    </td>
                                </tr>
                            </table>
                       </form>
                    </li>   
                </ul>    
            </div>
        </div>
    </div>

    @Html.Partial("_ErrorMessageModal")

    <script>
        var dict = {};
        $(document).ready(function () {
            BindControls();

            var docHeight = $(window).height();
            var footerHeight = $('#footer').height();
            var footerTop = $('#footer').position().top + footerHeight;

            if (footerTop < docHeight) {
                $('#footer').css('margin-top', 0 + (docHeight - footerTop) + 'px');
            }

        });

        function BindControls() {
            $('#Search').typeahead({

                source: function (request, response) {

                    $.ajax({
                        url: "/Home/CollectibleLookup/" + request,
                        dataType: "json",
                        type: "GET",
                        contentType: "application/json; charset=utf-8",
                        success: function (data) {
                            var collectibles = [];
                            response($.map(data, function (item) {
                                dict[item.Title + ' ' + item.ArtistName] = item;
                                collectibles.push(item.Title + ' ' + item.ArtistName);
                            }))
                            response(collectibles);
                        },
                        error: function (XMLHttpRequest, textStatus, errorThrown) {
                            alert(textStatus);
                        }
                    });
                },
                updater: function (item) {
                    var selectedCollectibleId = dict[item].CollectibleId;
                    window.location.href = "/Home/CollectibleDetail/" + selectedCollectibleId;
                    return item;
                },
                hint: true,             // SHOW HINT (DEFAULT IS "true").
                highlight: true,        // HIGHLIGHT (SET <strong> or <b> BOLD). DEFAULT IS "true".
                minLength: 1            // MINIMUM 1 CHARACTER TO START WITH.
            });
        }


    </script>

    <div style="margin-top: 20px;">
        <!-- Page content -->
        <div id="page-content">
            <div class="spacer40 hidden-sx" ></div>
            <!-- Keep all page content within the page-content inset div! -->
            <div>
                @RenderBody()
            </div>
            <div id="footer">
                @Html.Partial("_Footer")
            </div>  
  @if (Request.IsAuthenticated)
  {
            <!-- Page flyout -->
            <div id="cp">
                <table cellpadding="0" cellspacing="0">
                    <tr >
                        <td valign="top">
                            <table cellpadding="0" cellspacing="0">
                                <tr>
                                    <td>
                                        <a id="menu-toggle" href="#" onclick="toggleCP()" style="background: #f45942;color: white; border-radius: 4px; width: 28px; height: 28px; display: block;">
                                            <i id="menu1" style="line-height: 18px; margin-left:3px;margin-top: 3px;" class="glyphicon glyphicon-arrow-left"> </i>
                                        </a>
                                        </td>
                                    </tr>
                                <tr>
                                    <td>
                                        <div class="verticaltext"><span> myMuseo </span></div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>   
                                        <a href="#" onclick="toggleCPOne()"  style="background: #f45942; color: white; border-radius: 4px; width: 28px; height: 28px; display: block; margin-top: 36px;">
                                            <span style="line-height: 18px; margin-left:3px; margin-top: 2px;" class="glyphicon glyphicon-star"> </span>
                                        </a>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <a href="#" onclick="toggleCPTwo()" style="background: #f45942;color: white; border-radius: 4px; width: 28px; height: 28px; display: block; margin-top: 8px;">
                                            <span style="line-height: 18px; margin-left:3px;margin-top: 3px;" class="glyphicon glyphicon-pencil"> </span>
                                        </a>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <a href="#" onclick="toggleCPThree()" style="background: #f45942;color: white; border-radius: 4px;width: 28px; height: 28px; display: block; margin-top: 8px;">
                                            <span style="line-height: 18px; margin-left:3px;margin-top: 3px;" class="glyphicon glyphicon-refresh"> </span>
                                        </a>
                                    </td>
                                </tr>
                            </table>
                        </td>
                        <td>
                            <div id="cp2" style="background: #f45942; width: 264px; display: block; margin-left: -35px; color: white;">
                                <table>
                                    <tr>
                                        <td>
                                            <div style="margin-left: 10px; margin-right: 10px;">
                                                <span style="font-size: 18px;">My Account</span>
                                                <div style="border-bottom: 1px solid; width: 100%;"></div>
                                                <p style="color: #fff;"><a style="color: white;" href="~/Dashboard/MessageCenter">View or change your profile and access your personal Dashboard.</a></p>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="height: 44px;"></td>
                                    </tr>

                                    
                                    <tr>
                                        <td>

                                            <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                                                <div class="panel panel-default">
                                                    <div class="panel-heading" role="tab" id="headingOne">
                                                        <h4 class="panel-title">
                                                            <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                                                                Favorites
                                                            </a>
                                                        </h4>
                                                    </div>
                                                    <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
                                                        <div class="panel-body">
                                                            <table>
                                                                @if (ViewBag.SideFavorites != null)
                                                                {
                                                                    foreach (string favoriteInfo in ViewBag.SideFavorites)
                                                                    {
                                                                        <tr>
                                                                            <td>
                                                                                @Html.Raw(@favoriteInfo)
                                                                            </td>
                                                                        </tr>
                                                                    }
                                                                }
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="panel panel-default">
                                                    <div class="panel-heading" role="tab" id="headingTwo">
                                                        <h4 class="panel-title">
                                                            <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                                                Comments
                                                            </a>
                                                        </h4>
                                                    </div>
                                                    <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
                                                        <div class="panel-body">
                                                            <table>
                                                                @if (ViewBag.SideComments != null)
                                                                {
                                                                    foreach (string commentInfo in ViewBag.SideComments)
                                                                    {
                                                                        <tr>
                                                                            <td>
                                                                                @Html.Raw(@commentInfo)
                                                                            </td>
                                                                        </tr>
                                                                    }
                                                                }
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="panel panel-default">
                                                    <div class="panel-heading" role="tab" id="headingThree">
                                                        <h4 class="panel-title">
                                                            <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                                                Viewed
                                                            </a>
                                                        </h4>
                                                    </div>
                                                    <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
                                                        <div class="panel-body">
                                                            <table>
                                                                @if (ViewBag.SideViews != null)
                                                                {
                                                                    foreach (string viewInfo in ViewBag.SideViews)
                                                                    {
                                                                        <tr>
                                                                            <td>
                                                                                @Html.Raw(@viewInfo)
                                                                            </td>
                                                                        </tr>
                                                                    }
                                                                }
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>



                                        </td>
                                    </tr>

                                    
                                    <tr>
                                        <td>
                                            <div style="margin-left: 10px; margin-right: 10px; min-height: 600px;">
                                                

                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>   
  }
        </div>

   </div>    
        
    
    <script>
 
        function toggleCP() {
            var cp = document.getElementById("cp");
            cp.style.height = window.innerHeight - 60 + "px";
            var cp2 = document.getElementById("cp2");
            cp2.style.height = window.innerHeight - 60 + "px";
            if (cp.style.right == "0px") {
                cp.style.right = "-260px";
            } else {
                cp.style.right = "0px";
            }
            var iSelector = $("#menu1");
            if (iSelector.hasClass('glyphicon-arrow-right')) {
                iSelector.removeClass('glyphicon-arrow-right')
                iSelector.addClass('glyphicon-arrow-left')
            } else if (iSelector.hasClass('glyphicon-arrow-left')) {
                iSelector.removeClass('glyphicon-arrow-left')
                iSelector.addClass('glyphicon-arrow-right')
            }

        }

        function toggleCPOne() {
            var cp = document.getElementById("cp");
            cp.style.height = window.innerHeight - 60 + "px";
            var cp2 = document.getElementById("cp2");
            cp2.style.height = window.innerHeight - 60 + "px";
            if (cp.style.right == "0px") {
                cp.style.right = "-260px";
            } else {
                cp.style.right = "0px";
            }
            var iSelector = $("#menu1");
            if (iSelector.hasClass('glyphicon-arrow-right')) {
                iSelector.removeClass('glyphicon-arrow-right')
                iSelector.addClass('glyphicon-arrow-left')
            } else if (iSelector.hasClass('glyphicon-arrow-left')) {
                iSelector.removeClass('glyphicon-arrow-left')
                iSelector.addClass('glyphicon-arrow-right')
            }
            if ($('#collapseOne').hasClass('collapse')) {
                $('#collapseOne').collapse('toggle');
            }
            if ($('#collapseTwo').hasClass('in')) {
                $('#collapseTwo').collapse('toggle');
            }
            if ($('#collapseThree').hasClass('in')) {
                $('#collapseThree').collapse('toggle');
            }
        }

        function toggleCPTwo() {
            var cp = document.getElementById("cp");
            cp.style.height = window.innerHeight - 60 + "px";
            var cp2 = document.getElementById("cp2");
            cp2.style.height = window.innerHeight - 60 + "px";
            if (cp.style.right == "0px") {
                cp.style.right = "-260px";
            } else {
                cp.style.right = "0px";
            }
            var iSelector = $("#menu1");
            if (iSelector.hasClass('glyphicon-arrow-right')) {
                iSelector.removeClass('glyphicon-arrow-right')
                iSelector.addClass('glyphicon-arrow-left')
            } else if (iSelector.hasClass('glyphicon-arrow-left')) {
                iSelector.removeClass('glyphicon-arrow-left')
                iSelector.addClass('glyphicon-arrow-right')
            }
            if ($('#collapseTwo').hasClass('collapse')) {
                $('#collapseTwo').collapse('toggle');
            }
            if ($('#collapseOne').hasClass('in')) {
                $('#collapseOne').collapse('toggle');
            }
            if ($('#collapseThree').hasClass('in')) {
                $('#collapseThree').collapse('toggle');
            }
        }

        function toggleCPThree() {
            var cp = document.getElementById("cp");
            cp.style.height = window.innerHeight - 60 + "px";
            var cp2 = document.getElementById("cp2");
            cp2.style.height = window.innerHeight - 60 + "px";
            if (cp.style.right == "0px") {
                cp.style.right = "-260px";
            } else {
                cp.style.right = "0px";
            }
            var iSelector = $("#menu1");
            if (iSelector.hasClass('glyphicon-arrow-right')) {
                iSelector.removeClass('glyphicon-arrow-right')
                iSelector.addClass('glyphicon-arrow-left')
            } else if (iSelector.hasClass('glyphicon-arrow-left')) {
                iSelector.removeClass('glyphicon-arrow-left')
                iSelector.addClass('glyphicon-arrow-right')
            }
            if ($('#collapseThree').hasClass('collapse')) {
                $('#collapseThree').collapse('toggle');
            }
            if ($('#collapseTwo').hasClass('in')) {
                $('#collapseTwo').collapse('toggle');
            }
            if ($('#collapseOne').hasClass('in')) {
                $('#collapseOne').collapse('toggle');
            }
        }

    </script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-114864897-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-114864897-1');
    </script>
            @Scripts.Render("~/bundles/bootstrap")
            @RenderSection("scripts", required: false)
</body>
</html>
